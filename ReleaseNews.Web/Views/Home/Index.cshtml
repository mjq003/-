
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="content-wrap">
    <div class="content">
        <div id="focusslide" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#focusslide" data-slide-to="0" class="active"></li>
                <li data-target="#focusslide" data-slide-to="1"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
            </div>
            <a class="left carousel-control" href="#focusslide" role="button" data-slide="prev" rel="nofollow"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">上一个</span> </a> <a class="right carousel-control" href="#focusslide" role="button" data-slide="next" rel="nofollow"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">下一个</span> </a>
        </div>

        <div class="title">
            <h3>最新发布</h3>
        </div>
        <div id="home_news">
        </div>
    </div>
</div>
<aside class="sidebar">
    <div class="fixed">
        <div class="widget widget_search">
            <form class="navbar-form" action="/Search" method="post">
                <div class="input-group">
                    <input type="text" name="keyword" id="keyword" class="form-control" size="35" placeholder="请输入新闻关键字" maxlength="15" autocomplete="off">
                    <span class="input-group-btn">
                        <button class="btn btn-default btn-search" name="search" type="button" onclick="searchOneNews()">搜索</button>
                    </span>
                </div>
            </form>
        </div>
        <div class="widget widget_hot">
            <h3>最新评论文章</h3>
            <ul id="new_comment"></ul>
        </div>
        <div class="widget widget-tabs">
            <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#notice" aria-controls="notice" role="tab" data-toggle="tab">东部战绩</a></li>
                <li role="presentation"><a href="#contact" aria-controls="contact" role="tab" data-toggle="tab">西部战绩</a></li>
            </ul>
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane contact active" id="notice">
                    @*<h2>
                            新闻总数:
                            <text id="total_news"></text>
                        </h2>
                        <h2>
                            网站新增:
                            <span id="sitetime">100个用户 </span>
                        </h2>*@
                    <h2 style="color:red;">
                        1
                        <text style="color:black;">雄鹿 60-22 1连败</text>
                    </h2>
                    <h2 style="color:red;">
                        2
                        <text style="color:black;">猛龙 58-24 2连败</text>
                    </h2><h2 style="color:red;">
                        3
                        <text style="color:black;">76人 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        4
                        <text style="color:black;">凯尔特人 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        5
                        <text style="color:black;">步行者 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        6
                        <text style="color:black;">篮网 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        7
                        <text style="color:black;">魔术 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        8
                        <text style="color:black;">活塞 60-22 1连败</text>
                    </h2>
                    <h2>
                        9
                        <text>黄蜂 60-22 1连败</text>
                    </h2>
                    <h2>
                        10
                        <text>热火 60-22 1连败</text>
                    </h2>
                    <h2>
                        11
                        <text>奇才 60-22 1连败</text>
                    </h2>
                    <h2>
                        12
                        <text>老鹰 60-22 1连败</text>
                    </h2>
                    <h2>
                        13
                        <text>公牛 60-22 1连败</text>
                    </h2>
                    <h2>
                        14
                        <text>骑士 60-22 1连败</text>
                    </h2>
                    <h2>
                        15
                        <text>尼克斯 60-22 1连败</text>
                    </h2>
                </div>
                <div role="tabpanel" class="tab-pane contact" id="contact">
                    <h2 style="color:red;">
                        1
                        <text style="color:black;">勇士 60-22 1连败</text>
                    </h2>
                    <h2 style="color:red;">
                        2
                        <text style="color:black;">掘金 58-24 2连败</text>
                    </h2><h2 style="color:red;">
                        3
                        <text style="color:black;">开拓者 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        4
                        <text style="color:black;">火箭 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        5
                        <text style="color:black;">爵士 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        6
                        <text style="color:black;">雷霆 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        7
                        <text style="color:black;">马刺 60-22 1连败</text>
                    </h2><h2 style="color:red;">
                        8
                        <text style="color:black;">快船 60-22 1连败</text>
                    </h2>
                    <h2>
                        9
                        <text>国王 60-22 1连败</text>
                    </h2>
                    <h2>
                        10
                        <text>湖人 60-22 1连败</text>
                    </h2>
                    <h2>
                        11
                        <text>森林狼 60-22 1连败</text>
                    </h2>
                    <h2>
                        12
                        <text>灰熊 60-22 1连败</text>
                    </h2>
                    <h2>
                        13
                        <text>鹈鹕 60-22 1连败</text>
                    </h2>
                    <h2>
                        14
                        <text>独行侠 60-22 1连败</text>
                    </h2>
                    <h2>
                        15
                        <text>太阳 60-22 1连败</text>
                    </h2>
                </div>
            </div>
        </div>
    </div>

    <div class="widget widget_sentence">
        <a href="https://sports.qq.com/nba/" target="_blank" rel="nofollow">
            <img style="width: 100%" src="~/images/1.png" alt="">
        </a>
    </div>
    <div class="widget widget_sentence">
        <a href="https://sports.qq.com/nba/" target="_blank" rel="nofollow">
            <img style="width: 100%" src="~/images/2.png">
        </a>
    </div>
    <div class="widget widget_sentence">
        <h3>友情链接</h3>
        <div class="widget-sentence-link">
            <a href="https://sports.qq.com/nba/" title="NBA腾讯体育" target="_blank">NBA腾讯体育官方网站</a>&nbsp;&nbsp;&nbsp;
        </div>
    </div>
</aside>

<script type="text/javascript">
    $(function () {
        getBanner();
        getTotalNews();
        getHomeNews();
        getNewCommentNewsList();
    });
    function getBanner() {
        $.ajax({
            type: 'get',
            url: '/Home/GetBanner',
            success: function (data) {
                if (data.code == 200) {
                    $(".carousel-inner").empty();
                    for (var i = 0; i < data.data.length; i++) {
                        var m = data.data[i];
                        var banner;
                        if (i == 0)
                            banner = '<div class="item active"><a href = "' + m.url + '" target = "_blank" ><img src="' + m.image + '" class="img-responsive"></a></div>';
                        else
                            banner = '<div class="item"><a href = "' + m.url + '" target = "_blank" ><img src="' + m.image + '" class="img-responsive"></a></div>';
                        $(".carousel-inner").append(banner);
                    }
                }
            }
        });
    }
    function getTotalNews() {
        $.ajax({
            type: 'get',
            url: '/Home/GetTotalNews',
            success: function (data) {
                if (data.code == 200) {
                    $("#total_news").text(data.data + "篇");;
                }
            }
        });
    }
    function getHomeNews() {
        $.ajax({
            type: 'get',
            url: '/Home/GetHomeNews',
            success: function (data) {
                if (data.code == 200) {
                    $("#home_news").empty();
                    for (var i = 0; i < data.data.length; i++) {
                        var m = data.data[i];
                        var news;
                        news = '<article class="excerpt excerpt-1" style=""><a class="focus" href = "/News/Detail?id=' + m.id + '" title = "' + m.title + '" target = "_blank" > <img class="thumb" data-original="' + m.image + '" src="' + m.image + '" alt="' + m.title + '" style="display: inline;"></a><header><h2><a href="/News/Detail?id=' + m.id + '" title="' + m.title + '" target="_blank">' + m.title + '</a></h2></header><p class="meta"><time class="time"><i class="glyphicon glyphicon-time"></i> ' + m.publishDate + '</time><a class="comment" title="评论" target="_blank"><i class="glyphicon glyphicon-comment"></i> ' + m.commentCount + '</a><a class="comment" title="点赞" target="_blank"><i class="glyphicon glyphicon-heart"></i> ' + m.loveCount + '</a></p><p class="note">' + m.contents + '</p></article >';
                        $("#home_news").append(news);
                    }
                }
            }
        });
    }
    function getNewCommentNewsList() {
        $.ajax({
            type: 'get',
            url: '/Home/GetNewCommentNewsList',
            success: function (data) {
                if (data.code == 200) {
                    $("#new_comment").empty();
                    for (var i = 0; i < data.data.length; i++) {
                        var m = data.data[i];
                        var news;
                        news = '<li><a title = "' + m.title + '" href = "/News/Detail?id=' + m.id + '" target = "_blank" ><span class="thumbnail"><img class="thumb" data-original="' + m.image + '" src="' + m.image + '" alt="' + m.title + '" style="display: block;"></span><span class="text">' + m.title + '</span><span class="muted"><i class="glyphicon glyphicon-time"></i>' + m.publishDate + '</a></li>';
                        $("#new_comment").append(news);
                    }
                }
            }
        });
    }
    function searchOneNews() {
        var keyword = $("#keyword").val();
        if (keyword != "" && keyword != null) {
            $.ajax({
                type: 'get',
                url: '/Home/SearchOneNews',
                data: { keyword: keyword },
                success: function (data) {
                    if (data.code == 200) {
                        window.open("/News/Detail?id=" + data.data);
                    } else {
                        window.open("/Home/Wrong");
                    }
                }
            });
        }
    }
</script>